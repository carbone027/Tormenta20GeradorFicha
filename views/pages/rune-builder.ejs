<%- include('../partials/header', { title: 'Construtor de Runas', activePage: 'runeBuilder' }) %>

<section class="content-section active">
  <h2>Construtor de P√°ginas de Runas</h2>
  
  <div class="rune-builder-container">
    <div class="builder-form">
      <h3>Nova P√°gina de Runas</h3>
      <form id="runeForm">
        <div class="form-group">
          <label for="runeName">‚ú® Nome da P√°gina de Runas:</label>
          <input type="text" id="runeName" name="name" required 
                 placeholder="Ex: Ahri Domina√ß√£o Mid, Jinx Precis√£o ADC, Darius Top..."
                 maxlength="50">
          <small style="color: #a09b8c; font-size: 0.85rem; margin-top: 0.5rem; display: block;">
            üí° Dica: Use nomes descritivos como "Campe√£o + √Årvore + Lane" para encontrar facilmente depois!
          </small>
        </div>
        
        <div class="form-group">
          <label>üå≥ √Årvore Prim√°ria:</label>
          <div class="tree-options">
            <div class="tree-option">
              <input type="radio" id="primary-precision" name="primaryTree" value="precisao" required>
              <label for="primary-precision">
                <img src="/assets/runes/precision.png" alt="Precis√£o">
                <span>Precis√£o</span>
              </label>
            </div>
            <div class="tree-option">
              <input type="radio" id="primary-domination" name="primaryTree" value="dominacao">
              <label for="primary-domination">
                <img src="/assets/runes/domination.png" alt="Domina√ß√£o">
                <span>Domina√ß√£o</span>
              </label>
            </div>
            <div class="tree-option">
              <input type="radio" id="primary-sorcery" name="primaryTree" value="feiticaria">
              <label for="primary-sorcery">
                <img src="/assets/runes/sorcery.png" alt="Feiti√ßaria">
                <span>Feiti√ßaria</span>
              </label>
            </div>
            <div class="tree-option">
              <input type="radio" id="primary-resolve" name="primaryTree" value="determinacao">
              <label for="primary-resolve">
                <img src="/assets/runes/resolve.png" alt="Determina√ß√£o">
                <span>Determina√ß√£o</span>
              </label>
            </div>
            <div class="tree-option">
              <input type="radio" id="primary-inspiration" name="primaryTree" value="inspiracao">
              <label for="primary-inspiration">
                <img src="/assets/runes/inspiration.png" alt="Inspira√ß√£o">
                <span>Inspira√ß√£o</span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- Keystone Runes -->
        <div class="form-group" id="keystone-container" style="display: none;">
          <label>‚ö° Runa Chave (Keystone):</label>
          <div class="rune-options" id="keystone-options"></div>
        </div>
        
        <!-- Primary Rune Slots -->
        <div class="form-group" id="primary-slot1-container" style="display: none;">
          <label>ü•á Linha 1 (Prim√°ria):</label>
          <div class="rune-options" id="primary-slot1-options"></div>
        </div>
        
        <div class="form-group" id="primary-slot2-container" style="display: none;">
          <label>ü•à Linha 2 (Prim√°ria):</label>
          <div class="rune-options" id="primary-slot2-options"></div>
        </div>
        
        <div class="form-group" id="primary-slot3-container" style="display: none;">
          <label>ü•â Linha 3 (Prim√°ria):</label>
          <div class="rune-options" id="primary-slot3-options"></div>
        </div>
        
        <!-- Secondary Tree -->
        <div class="form-group">
          <label>üå≤ √Årvore Secund√°ria:</label>
          <div class="tree-options" id="secondary-tree-options">
            <!-- Op√ß√µes geradas dinamicamente via JavaScript -->
          </div>
        </div>
        
        <!-- Secondary Rune Slots -->
        <div class="form-group" id="secondary-slots-container" style="display: none;">
          <label>üéØ Escolha 2 runas secund√°rias de linhas diferentes:</label>
          <div style="background: rgba(200, 169, 100, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
            <p style="margin: 0; font-size: 0.9rem; color: #C8A964; text-align: center;">
              ‚ö†Ô∏è <strong>Regra importante:</strong> Voc√™ deve selecionar exatamente 2 runas de linhas (slots) diferentes!
            </p>
          </div>
          <div id="secondary-slots-options"></div>
        </div>
        
        <!-- Stat Shards -->
        <div class="form-group">
          <label>üíé Fragmentos Estat√≠sticos:</label>
          
          <!-- Slot 1 - Offense -->
          <div class="shard-row">
            <label>üó°Ô∏è Slot 1 (Ofensivo):</label>
            <div class="shard-options">
              <div class="shard-option">
                <input type="radio" id="shard1-adaptive" name="shard1" value="adaptive_force" required>
                <label for="shard1-adaptive">
                  <img src="/assets/shards/adaptive_force.png" alt="For√ßa Adaptativa" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>For√ßa Adaptativa</span>
                  <small>+5.4 AD ou +9 AP</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard1-as" name="shard1" value="attack_speed">
                <label for="shard1-as">
                  <img src="/assets/shards/attack_speed.png" alt="Velocidade de Ataque" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Velocidade de Ataque</span>
                  <small>+10% Velocidade de Ataque</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard1-ah" name="shard1" value="ability_haste">
                <label for="shard1-ah">
                  <img src="/assets/shards/ability_haste.png" alt="Acelera√ß√£o de Habilidade" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Acelera√ß√£o de Habilidade</span>
                  <small>+8 Acelera√ß√£o de Habilidade</small>
                </label>
              </div>
            </div>
          </div>
          
          <!-- Slot 2 - Flex -->
          <div class="shard-row">
            <label>‚öñÔ∏è Slot 2 (Flex√≠vel):</label>
            <div class="shard-options">
              <div class="shard-option">
                <input type="radio" id="shard2-adaptive" name="shard2" value="adaptive_force" required>
                <label for="shard2-adaptive">
                  <img src="/assets/shards/adaptive_force.png" alt="For√ßa Adaptativa" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>For√ßa Adaptativa</span>
                  <small>+5.4 AD ou +9 AP</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard2-movement" name="shard2" value="movement_speed">
                <label for="shard2-movement">
                  <img src="/assets/shards/movement_speed.png" alt="Velocidade de Movimento" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Velocidade de Movimento</span>
                  <small>+2% de Velocidade de Movimento</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard2-health" name="shard2" value="health_bonus">
                <label for="shard2-health">
                  <img src="/assets/shards/health_bonus.png" alt="Vida Escal√°vel" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Vida Escal√°vel</span>
                  <small>+10-180 Vida (baseado no n√≠vel)</small>
                </label>
              </div>
            </div>
          </div>
          
          <!-- Slot 3 - Defense -->
          <div class="shard-row">
            <label>üõ°Ô∏è Slot 3 (Defensivo):</label>
            <div class="shard-options">
              <div class="shard-option">
                <input type="radio" id="shard3-health" name="shard3" value="health" required>
                <label for="shard3-health">
                  <img src="/assets/shards/health.png" alt="Vida" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Vida</span>
                  <small>+65 Vida Bonus</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard3-tenacity" name="shard3" value="tenacity">
                <label for="shard3-tenacity">
                  <img src="/assets/shards/tenacity.png" alt="Tenacidade" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Tenacidade</span>
                  <small>+10% Tenacidade e resist√™ncia a slow</small>
                </label>
              </div>
              <div class="shard-option">
                <input type="radio" id="shard3-health-scaling" name="shard3" value="health_bonus">
                <label for="shard3-health-scaling">
                  <img src="/assets/shards/health_bonus.png" alt="Vida Escal√°vel" onerror="this.src='/assets/shards/placeholder.png'">
                  <span>Vida Escal√°vel</span>
                  <small>+10-180 Vida (baseado no n√≠vel)</small>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="nav-btn save-rune-btn">üíæ Salvar P√°gina de Runas</button>
        </div>
      </form>
    </div>
    
    <div class="rune-preview">
      <h3>üëÅÔ∏è Visualiza√ß√£o da P√°gina</h3>
      <div id="rune-preview-content">
        <p class="empty-state">
          üé® Selecione as runas para ver como sua p√°gina ficar√°!
          <br><br>
          ‚ú® Sua p√°gina personalizada aparecer√° aqui em tempo real
        </p>
      </div>
    </div>
  </div>
</section>

<script src="/scripts/rune-builder.js"></script>
<%- include('../partials/footer') %>

<!-- |--------------------------|-----------------------------|
|Precis√£o (Arvore Prim√°ria)|Domina√ß√£o (Arvore Secund√°ria)|
|--------------------------|-----------------------------|
|   Pressione o Ataque     |-----------------------------|
|   Triunfo                |        Golpe de Morte       |
|   Lenda: Tenacidade      |          Ca√ßa Voraz         |
|   Golpe de Gracie        |-----------------------------|
|--------------------------|-----------------------------| -->